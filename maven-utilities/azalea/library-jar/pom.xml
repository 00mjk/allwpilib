<?xml version="1.0" encoding="UTF-8"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
		 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>
  <groupId>edu.wpi.first.wpilib.templates.azalea</groupId>
  <artifactId>library-jar</artifactId>
  <packaging>pom</packaging>
  <version>0.1.0-SNAPSHOT</version>
  
  <properties>
	<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
	<project.resources.sourceEncoding>UTF-8</project.resources.sourceEncoding>
	<sunspot.home>${env.HOME}/sunspotfrcsdk</sunspot.home>
	<local-repository>C:/Users/wpilibj-buildmaster/maven-repository</local-repository>
  </properties>

  <dependencyManagement>
	<dependencies>
	  <dependency>
		<groupId>com.sun.squawk</groupId>
		<artifactId>runtime</artifactId>
		<version>0.1.0.qualifier</version>
		<scope>system</scope>
		<systemPath>${sunspot.home}/lib/squawk.jar</systemPath>
	  </dependency>
	</dependencies>
  </dependencyManagement>

  <build>
    <pluginManagement>
	  <plugins>
		<plugin>
		  <groupId>org.apache.maven.plugins</groupId>
		  <artifactId>maven-compiler-plugin</artifactId>
		  <version>3.1</version>
		  <configuration>
			<source>1.3</source>
			<target>1.2</target>
			<debug>true</debug>
			<fork>true</fork>
		  </configuration>
		</plugin>
		<plugin>
		  <groupId>org.codehaus.mojo</groupId>
		  <artifactId>exec-maven-plugin</artifactId>
		  <version>1.2.1</version>
		  <executions>
			<execution>
			  <id>preverify</id>
			  <phase>compile</phase>
			  <goals>
				<goal>exec</goal>
			  </goals>
			  <configuration>
				<executable>${sunspot.home}/bin/preverify</executable>
				<classpathScope>compile</classpathScope>
				<arguments>
				  <argument>-d</argument>
				  <argument>${project.build.directory}/classes</argument>
				  <argument>-classpath</argument>
				  <classpath/>
				  <argument>${project.build.directory}/classes</argument>
				</arguments>
			  </configuration>                        
			</execution>
		  </executions>
		</plugin>
		<plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-source-plugin</artifactId>
          <version>2.2.1</version>
          <executions>
			<execution>
              <id>attach-sources</id>
              <phase>package</phase>
              <goals>
				<goal>jar-no-fork</goal>
              </goals>
			</execution>
          </executions>
		</plugin>
		<plugin>
		  <groupId>org.apache.maven.plugins</groupId>
		  <artifactId>maven-javadoc-plugin</artifactId>
		  <version>2.9.1</version>
		  <executions>
			<execution>
              <id>attach-javadoc</id>
			  <phase>package</phase>
              <goals>
				<goal>jar</goal>
              </goals>
		  	</execution>
		  </executions>
		</plugin>
	  </plugins>
    </pluginManagement>
  </build>
  
  <profiles>
	<profile>
	  <id>jenkins</id>
	  <distributionManagement>
		<repository>
		  <id>myrepository</id>
		  <url>file:${local-repository}</url>
		</repository>
	  </distributionManagement>
	</profile>
  </profiles>
</project>
