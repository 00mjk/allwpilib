import org.gradle.internal.os.OperatingSystem

apply plugin: 'maven-publish'

// We classify the different artifacts by whether they are sources, and what development
// stage they are in. Release gets no classifier; stable, beta, and development get classifiers.
publishing {
    publications {
        if (!project.hasProperty('skipJava')) {
            java(MavenPublication) {
                artifact jar
                artifact networktablesJavaSource
                artifact networktablesJavadoc

                groupId 'edu.wpi.first.wpilib.networktables.java'
                artifactId 'NetworkTables'
                version '3.0.0-SNAPSHOT'
            }
        }
        cpp(MavenPublication) {
            artifact ntcoreZip
            artifact ntcoreSourceZip

            groupId 'edu.wpi.first.wpilib.networktables.cpp'
            artifactId 'NetworkTables'
            version '3.0.0-SNAPSHOT'
        }
    }

    repositories {
        maven {
            url "${System.getProperty('user.home')}/releases/maven/"
        }
    }
}
